language: objective-c
xcode_project: linphone.xcworkspace
xcode_scheme: linphone

git:
  submodules: false

env:
    global:
        - VERSION="8.1"
        - KIF_SCREENSHOTS="${TRAVIS_BUILD_DIR}/Screenshots"

before_script:
    - mkdir -p $KIF_SCREENSHOTS

install: 
    - cd submodules/build 
    - make download-sdk
    - cd ../..
    - pod install
    - ls -la

# Use Pods/Subliminal/.../subliminal-test if using Cocoapods
script:
    - xcodebuild -scheme linphone -workspace linphone.xcworkspace -sdk iphonesimulator8.1 test

after_script:
    - ls -l $KIF_SCREENSHOTS